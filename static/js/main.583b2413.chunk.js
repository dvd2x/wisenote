(window.webpackJsonpwisenote=window.webpackJsonpwisenote||[]).push([[0],{205:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(14),r=n.n(i),s=(n(94),n(11)),c=n.n(s),l=n(85),d=n(26),u=n(16),p=n(17),h=n(20),f=n(18),N=n(21),m=n(6),b=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},newChatBtn:{borderRadius:"0px"},unreadMessage:{color:"red",position:"absolute",top:"0",right:"5px"},newNoteBtn:{width:"100%",height:"35px",borderBottom:"1px solid black",borderRadius:"0px",backgroundColor:"#29487d",color:"white","&:hover":{backgroundColor:"#88a2ce"}},sidebarContainer:{marginTop:"0px",width:"300px",height:"100%",boxSizing:"border-box",float:"left",overflowY:"scroll",overflowX:"hidden"},newNoteInput:{width:"100%",margin:"0px",height:"35px",outline:"none",border:"none",paddingLeft:"5px","&:focus":{outline:"2px solid rgba(81, 203, 238, 1)"}},newNoteSubmitBtn:{width:"100%",backgroundColor:"#28787c",borderRadius:"0px",color:"white"}}},x=n(235),w=n(234),v=n(236),g=function(e){return{listItem:{cursor:"pointer"},textSection:{maxWidth:"85%"},deleteIcon:{position:"absolute",right:"5px",top:"calc(50% - 15px)","&:hover":{color:"red"}}}},y=n(233),k=n(237),I=n(81),O=n.n(I);var j=function(e){function t(){var e,n;Object(u.a)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).selectNote=function(e,t){return n.props.selectNote(e,t)},n.deleteNote=function(e){window.confirm("Are you sure you want to delete: ".concat(e.title))&&n.props.deleteNote(e)},n}return Object(N.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this,n=this.props,o=n._index,i=n._note,r=n.classes,s=n.selectedNoteIndex;return a.a.createElement("div",{key:o},a.a.createElement(y.a,{className:r.ListItem,selected:s===o,alignItems:"flex-start"},a.a.createElement("div",{className:r.textSection,onClick:function(){return t.selectNote(i,o)}},a.a.createElement(k.a,{primary:i.title,secondary:(e=i.body.substring(0,30),e.replace(/<[^>]*>?/gm,"")+"...")})),a.a.createElement(O.a,{onClick:function(){return t.deleteNote(i)},className:r.deleteIcon})))}}]),t}(a.a.Component),S=Object(m.a)(g)(j),E=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).newNoteBtnClick=function(){n.setState({title:null,addingNote:!n.state.addingNote})},n.updateTitle=function(e){n.setState({title:e})},n.newNote=function(){n.props.newNote(n.state.title),n.setState({title:null,addingNote:!1})},n.selectNote=function(e,t){return n.props.selectNote(e,t)},n.deleteNote=function(e){return n.props.deleteNote(e)},n.state={addingNote:!1,title:null},n}return Object(N.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.notes,o=t.classes,i=t.selectedNoteIndex;return n?a.a.createElement("div",{className:o.sidebarContainer},a.a.createElement(w.a,{onClick:this.newNoteBtnClick,className:o.newNoteBtn},this.state.addingNote?"Cancel":"New Note"),a.a.createElement(w.a,{className:o.newNoteSubmitBtn,onClick:this.newNote},"Submit Note"),this.state.addingNote?a.a.createElement("div",null,a.a.createElement("input",{type:"text",className:o.newNoteInput,placeholder:"Enter note title",onKeyUp:function(t){return e.updateTitle(t.target.value)}})):null,a.a.createElement(x.a,null,n.map((function(t,n){return a.a.createElement("div",{key:n},a.a.createElement(S,{_note:t,_index:n,selectedNoteIndex:i,selectNote:e.selectNote,deleteNote:e.deleteNote}),a.a.createElement(v.a,null))})))):a.a.createElement("div",null)}}]),t}(o.Component),C=Object(m.a)(b)(E),B=n(82),T=n.n(B),U=n(83),z=n.n(U),A=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},titleInput:{height:"50px",boxSizing:"border-box",border:"none",padding:"5px",fontSize:"24px",width:"calc(100% - 300px)",backgroundColor:"#29487d",color:"white",paddingLeft:"50px"},editIcon:{position:"absolute",left:"310px",top:"12px",color:"white",width:"10",height:"10"},editorContainer:{height:"100%",boxSizing:"border-box"}}},R=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).updateBody=function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({text:t});case 2:n.update();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateTitle=function(){var e=Object(d.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({title:t});case 2:n.update();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.update=function(e,t,n){var o,a;return function(){function i(){o=null,n||(a=e.apply(r,s))}var r=this,s=arguments;return clearTimeout(o),o=setTimeout(i,t),n&&!o&&(a=e.apply(r,s)),a}}((function(){n.props.noteUpdate(n.state.id,{title:n.state.title,body:n.state.text})}),1500),n.state={text:"",title:"",id:""},n}return Object(N.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({text:this.props.selectedNote.body,title:this.props.selectedNote.title,id:this.props.selectedNote.id})}},{key:"componentDidUpdate",value:function(){this.props.selectedNote.id!==this.state.id&&this.setState({text:this.props.selectedNote.body,title:this.props.selectedNote.title,id:this.props.selectedNote.id})}},{key:"render",value:function(){var e=this,t=this.props.classes;return a.a.createElement("div",{className:t.editorContainer},a.a.createElement(z.a,{className:t.editIcon}),a.a.createElement("input",{className:t.titleInput,placeholder:"Note title...",value:this.state.title?this.state.title:"",onChange:function(t){return e.updateTitle(t.target.value)}}),a.a.createElement(T.a,{value:this.state.text,onChange:this.updateBody}))}}]),t}(o.Component),D=Object(m.a)(A)(R),L=(n(205),n(77)),_=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).selectNote=function(e,t){return n.setState({selectedNoteIndex:t,selectedNote:e})},n.noteUpdate=function(e,t){L.firestore().collection("notes").doc(e).update({title:t.title,body:t.body,timestamp:L.firestore.FieldValue.serverTimestamp()})},n.newNote=function(){var e=Object(d.a)(c.a.mark((function e(t){var o,a,i,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={title:t,body:""},e.next=3,L.firestore().collection("notes").add({title:o.title,body:o.body,timestamp:L.firestore.FieldValue.serverTimestamp()});case 3:return a=e.sent,i=a.id,e.next=7,n.setState({notes:[].concat(Object(l.a)(n.state.notes),[o])});case 7:r=n.state.notes.indexOf(n.state.notes.filter((function(e){return e.id===i}))[0]),n.setState({selectedNote:n.state.notes[r],selectedNoteIndex:r});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteNote=function(){var e=Object(d.a)(c.a.mark((function e(t){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.state.notes.indexOf(t),e.next=3,n.setState({notes:n.state.notes.filter((function(e){return e!==t}))});case 3:n.state.selectedNoteIndex===o?n.setState({selectedNoteIndex:null,selectedNote:null}):n.state.notes.length>1?n.selectNote(n.state.notes[n.state.selectedNoteIndex-1],n.state.selectedNoteIndex-1):n.setState({selectedNoteIndex:null,selectedNote:null}),L.firestore().collection("notes").doc(t.id).delete();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={selectedNoteIndex:null,selectedNote:null,notes:null},n}return Object(N.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"app-container"},a.a.createElement(C,{selectedNoteIndex:this.state.selectedNoteIndex,notes:this.state.notes,deleteNote:this.deleteNote,selectNote:this.selectNote,newNote:this.newNote}),this.state.selectedNote?a.a.createElement(D,{selectedNote:this.state.selectedNote,selectedNoteIndex:this.state.selectedNoteIndex,notes:this.state.notes,noteUpdate:this.noteUpdate}):null)}},{key:"componentDidMount",value:function(){var e=this;L.firestore().collection("notes").onSnapshot((function(t){var n=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));console.log(n),e.setState({notes:n})}))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=n(77);n(215),F.initializeApp({apiKey:"AIzaSyAm3RtpAqXJFDmSQHkcikwYRmf6NYlEfUc",authDomain:"wisenote-74a25.firebaseapp.com",databaseURL:"https://wisenote-74a25.firebaseio.com",projectId:"wisenote-74a25",storageBucket:"wisenote-74a25.appspot.com",messagingSenderId:"563379665455",appId:"1:563379665455:web:922f21d655e8750c71e4da"}),r.a.render(a.a.createElement(_,null),document.getElementById("wisenote-container")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},89:function(e,t,n){e.exports=n(216)},94:function(e,t,n){}},[[89,1,2]]]);
//# sourceMappingURL=main.583b2413.chunk.js.map